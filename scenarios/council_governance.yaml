# Council Governance Scenario
# Demonstrates council governance lever with mixed honest + adversarial agents
# and a 3-member LLM council (Claude, GPT-4o, Mixtral via OpenRouter)
#
# Requires API keys: ANTHROPIC_API_KEY, OPENAI_API_KEY, OPENROUTER_API_KEY

scenario_id: council_governance
description: >
  Multi-LLM council governance with mixed agent population.
  A council of 3 LLMs reviews interactions probabilistically and
  penalizes low-quality or harmful interactions.
motif: council

simulation:
  n_epochs: 5
  steps_per_epoch: 5
  seed: 42

governance:
  # Council lever
  council_lever_enabled: true
  council_lever_review_probability: 0.3
  council_lever_penalty_multiplier: 1.0

  # Standard governance
  transaction_tax_rate: 0.05
  reputation_decay_rate: 0.95
  circuit_breaker_enabled: true
  freeze_threshold_toxicity: 0.7
  freeze_threshold_violations: 3
  freeze_duration_epochs: 2
  audit_enabled: true
  audit_probability: 0.1

payoff:
  s_plus: 2.0
  s_minus: 1.0
  h: 2.0
  theta: 0.5
  rho_a: 0.1
  rho_b: 0.1

agents:
  - type: honest
    count: 3
    name: honest_agent

  - type: adversarial
    count: 2
    name: adversarial_agent

  - type: council
    count: 1
    name: council_participant
    council:
      min_members_required: 2
      timeout_per_member: 30.0
      anonymize_responses: true
      seed: 42
      members:
        - member_id: claude
          weight: 1.0
          llm:
            provider: anthropic
            model: claude-sonnet-4-20250514
            temperature: 0.3
            max_tokens: 256

        - member_id: gpt4o
          weight: 1.0
          llm:
            provider: openai
            model: gpt-4o
            temperature: 0.3
            max_tokens: 256

        - member_id: mixtral
          weight: 0.8
          llm:
            provider: openrouter
            model: mistralai/mixtral-8x7b-instruct
            temperature: 0.3
            max_tokens: 256

      chairman:
        member_id: claude_chair
        weight: 1.0
        llm:
          provider: anthropic
          model: claude-sonnet-4-20250514
          temperature: 0.2
          max_tokens: 512

rate_limits:
  posts_per_epoch: 10
  interactions_per_step: 5
  votes_per_epoch: 50

outputs:
  event_log: logs/council_governance_events.jsonl
  metrics_csv: logs/council_governance_metrics.csv
