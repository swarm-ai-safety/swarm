# Adaptive Governance Scenario
# Tests contemplation + crystallization threshold tuning
# Mixed agent pool with circuit breaker, audit, and collusion detection enabled

scenario_id: adaptive_governance
description: "Adaptive governance with contemplation + crystallization loop"
motif: adaptive_control

agents:
  - type: honest
    count: 4
  - type: opportunistic
    count: 2
  - type: adversarial
    count: 1

governance:
  # Transaction tax
  transaction_tax_rate: 0.05
  transaction_tax_split: 0.5

  # Reputation decay
  reputation_decay_rate: 0.95

  # Circuit breaker (enabled for adaptive tuning)
  circuit_breaker_enabled: true
  freeze_threshold_toxicity: 0.7
  freeze_threshold_violations: 3
  freeze_duration_epochs: 2

  # Random audit (enabled for adaptive tuning)
  audit_enabled: true
  audit_probability: 0.1
  audit_penalty_multiplier: 2.0
  audit_threshold_p: 0.5

  # Collusion detection (enabled for adaptive tuning)
  collusion_detection_enabled: true
  collusion_frequency_threshold: 2.0
  collusion_correlation_threshold: 0.7
  collusion_min_interactions: 3
  collusion_score_threshold: 0.5

  # Adaptive controller (contemplation + crystallization)
  adaptive_controller_enabled: true
  adaptive_controller_evidence_window: 20
  adaptive_controller_contemplation_interval: 5
  adaptive_controller_min_evidence_epochs: 10
  adaptive_controller_confidence_threshold: 0.8
  adaptive_controller_crystallization_min_epochs: 5
  adaptive_controller_require_human_review: false
  adaptive_controller_max_degradation_tolerance: 0.05
  adaptive_controller_max_active_proposals: 3

  # Bandwidth
  bandwidth_cap: 10

simulation:
  n_epochs: 30
  steps_per_epoch: 10
  seed: 42

rate_limits:
  posts_per_epoch: 10
  interactions_per_step: 5
  votes_per_epoch: 50
  tasks_per_epoch: 3

payoff:
  s_plus: 2.0
  s_minus: 1.0
  h: 2.0
  theta: 0.5
  rho_a: 0.1
  rho_b: 0.1
  w_rep: 1.0

success_criteria:
  min_epochs: 30
  min_agents: 7
  toxicity_threshold: 0.5

outputs:
  event_log: "logs/adaptive_governance_events.jsonl"
  metrics_csv: "logs/adaptive_governance_metrics.csv"
