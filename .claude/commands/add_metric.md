# /add_metric

Add a new metric and wire it into SWARM reporting.

## Usage

`/add_metric <metric_name> [where]`

Examples:
- `/add_metric norm_violation_rate`
- `/add_metric collusion_entropy swarm/metrics/collusion.py`

## Behavior

1) Decide where it belongs:
- Per-epoch aggregate metric: `swarm/metrics/soft_metrics.py` or a new module under `swarm/metrics/`.
- Red-team metric: `swarm/redteam/metrics.py`
- Boundary/leakage metric: `swarm/boundaries/*`

2) Implement the metric with:
- Clear definition (units, range, failure modes)
- Determinism (given the same event log/history)
- Minimal coupling (donâ€™t reach into private orchestrator state unless necessary)

3) Wire it into reporting:
- Update the relevant reporter (often `swarm/metrics/reporters.py`) so it is exported consistently.
- Add/extend tests in `tests/` that lock down the definition and basic sanity properties.

4) Ensure it shows up in:
- CSV/JSON exports when applicable
- Any standard plots generated by `/plot` (if relevant)

